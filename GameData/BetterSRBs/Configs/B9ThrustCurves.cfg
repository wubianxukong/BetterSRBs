@PART:HAS[#BetterSRBsTag[True],@MODULE[ModuleEngines]:HAS[@PROPELLANT[SolidFuel]]]:NEEDS[B9PartSwitch]:LAST[BetterSRBs]
{
	@description ^= :$: <br><color="green">This part can accept different fuel grain geometries and render different performance envelopes.</color>
	@MODULE[ModuleEngines]:HAS[@PROPELLANT[SolidFuel]]
	{
		%useThrustCurve = True
		!thrustCurve {}
		thrustCurve
		{
		}
	}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = solidThrustCurve
		switcherDescription = #BSRB_GrainGeometry
		switcherDescriptionPlural = #BSRB_GrainGeometries
		SUBTYPE
		{
			name = slotted_06
			title = #BSRB_slotted06_title
			primaryColor = Amber
			secondaryColor = Blue
			defaultSubtypePriority = 3
			descriptionSummary = #BSRB Pr-NeThrust
			descriptionDetail = #BSRB slotted06 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEngines
					useThrustCurve = True
				}
				DATA
				{
					maxThrust = #$/MODULE[ModuleEngines]/maxThrust01$
					thrustCurve
					{
						key = 0 0.1 0 50
						key = 0.03 1.1132 0.035 0.035
						key = 0.57 1.1321 0.035 -0.865
						key = 1 0.76015 -0.865 0
					}
				}
			}
		}
		SUBTYPE
		{
			name = slotted_08
			title = #BSRB slotted08 title
			primaryColor = Amber
			secondaryColor = Green
			defaultSubtypePriority = 4
			descriptionSummary = #BSRB Pr-ReThrust
			descriptionDetail = #BSRB slotted08 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEngines
					useThrustCurve = True
				}
				DATA
				{
					thrustCurve
					{
						key = 0 0.1 0 35
						key = 0.03 0.801 0.76 0.76
						key = 0.61 1.2418 0.76 -0.62
						key = 1 1 -0.62 0
					}
				}
			}
		}
		SUBTYPE
		{
			name = slotted_10 
			title = #BSRB slotted10 title
			primaryColor = Amber
			secondaryColor = Red
			defaultSubtypePriority = 2
			descriptionSummary = #BSRB Pr-ReThrust
			descriptionDetail = #BSRB slotted10 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEngines
					useThrustCurve = True
				}
				DATA
				{
					maxThrust = #$/MODULE[ModuleEngines]/maxThrust02$
					thrustCurve
					{
						key = 0 0.1 0 25
						key = 0.03 0.6326 1.24 1.24
						key = 0.63 1.3766 1.24 -0.38
						key = 1 1.236 -0.38 0
					}
				}
			}
		}
		SUBTYPE
		{
			name = slotted_special1
			title = #BSRB slottedspecial1 title
			primaryColor = Amber
			secondaryColor = White
			defaultSubtypePriority = 1
			descriptionSummary = #BSRB Pr-NeThrust <br>#BSRB 6-12slotted
			descriptionDetail = #BSRB slottedspecial1 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEngines
					useThrustCurve = True
				}
				DATA
				{
					maxThrust = #$/MODULE[ModuleEngines]/maxThrust01$
					thrustCurve
					{
						key = 0 0.1 0 35
						key = 0.03 0.8425 0.0359 0.0359
						key = 0.42 0.8565 0.0359 1.585
						key = 0.82 1.4905 1.585 0.25
						key = 1 1.5355 0.25 0
					}
				}
			}
		}
	}
}

@PART:HAS[#BetterSRBsTag[True],@MODULE[ModuleEnginesFX]:HAS[@PROPELLANT[SolidFuel]]]:NEEDS[B9PartSwitch]:LAST[BetterSRBs]
{
	@description ^= :$: <br><color="green">This part can accept different fuel grain geometries and render different performance envelopes.</color>
	@MODULE[ModuleEnginesFX]:HAS[@PROPELLANT[SolidFuel]]
	{
		%useThrustCurve = True
		!thrustCurve {}
		thrustCurve
		{
		}
	}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = solidThrustCurve
		switcherDescription = Grain Geometry
		switcherDescriptionPlural = Grain Geometries
		SUBTYPE
		{
			name = slotted_06 
			title = #BSRB slotted06 title
			primaryColor = Amber
			secondaryColor = Blue
			defaultSubtypePriority = 3
			descriptionSummary = #BSRB Pr-NeThrust
			descriptionDetail = #BSRB slotted06 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEnginesFX
					useThrustCurve = True
				}
				DATA
				{
					maxThrust = #$/MODULE[ModuleEnginesFX]/maxThrust01$
					thrustCurve
					{
						key = 0 0.1 0 50
						key = 0.03 1.1132 0.035 0.035
						key = 0.57 1.1321 0.035 -0.865
						key = 1 0.76015 -0.865 0
					}
				}
			}
		}
		SUBTYPE
		{
			name = slotted_08
			title = #BSRB slotted08 title
			primaryColor = Amber
			secondaryColor = Green
			defaultSubtypePriority = 4
			descriptionSummary = #BSRB Pr-ReThrust
			descriptionDetail = #BSRB slotted08 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEnginesFX
					useThrustCurve = True
				}
				DATA
				{
					thrustCurve
					{
						key = 0 0.1 0 35
						key = 0.03 0.801 0.76 0.76
						key = 0.61 1.2418 0.76 -0.62
						key = 1 1 -0.62 0
					}
				}
			}
		}
		SUBTYPE
		{
			name = slotted_10
			title = #BSRB slotted10 title
			primaryColor = Amber
			secondaryColor = Red
			defaultSubtypePriority = 2
			descriptionSummary = #BSRB Pr-ReThrust
			descriptionDetail = #BSRB slotted10 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEnginesFX
					useThrustCurve = True
				}
				DATA
				{
					maxThrust = #$/MODULE[ModuleEnginesFX]/maxThrust02$
					thrustCurve
					{
						key = 0 0.1 0 25
						key = 0.03 0.6326 1.24 1.24
						key = 0.63 1.3766 1.24 -0.38
						key = 1 1.236 -0.38 0
					}
				}
			}
		}
		SUBTYPE
		{
			name = slotted_special1
			title = #BSRB slottedspecial1 title
			primaryColor = Amber
			secondaryColor = White
			defaultSubtypePriority = 1
			descriptionSummary = #BSRB Pr-NeThrustt<br>#BSRB 6-12slotted
			descriptionDetail = #BSRB Slottedspecial1 detail
			MODULE
			{
				IDENTIFIER
				{
					name = ModuleEnginesFX
					useThrustCurve = True
				}
				DATA
				{
					maxThrust = #$/MODULE[ModuleEnginesFX]/maxThrust01$
					thrustCurve
					{
						key = 0 0.1 0 35
						key = 0.03 0.8425 0.0359 0.0359
						key = 0.42 0.8565 0.0359 1.585
						key = 0.82 1.4905 1.585 0.25
						key = 1 1.5355 0.25 0
					}
				}
			}
		}
	}
}